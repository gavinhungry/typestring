/**
 * typestring - In-memory TypeScript compiler
 * https://github.com/gavinhungry/typestring
 */
({define:"function"==typeof define?define:function(e,t){module.exports=t.apply(null,e.map(require))}}).define(["typescript"],function(e){"use strict";var t="_typestring.ts";return{compile:function(r,i,n){r="string"==typeof r?r:"",i=i||{},n=n||e.getDefaultCompilerOptions();var o=new RegExp(e.fullTripleSlashReferencePathRegEx.source,"gm");r=r.replace(o,function(e,t,r,n){return i[n]||e});var c=e.createCompilerHost(n),a=c.getSourceFile;c.getSourceFile=function(i){return i===t?e.createSourceFile(i,r,n.target,"0"):a.apply(this,arguments)};var u="";c.writeFile=function(e,t){u+=t};var l=e.createProgram([t],n,c),f=l.getSyntacticDiagnostics();if(f.length)throw f;if(f=l.getSemanticDiagnostics(),f.length)throw f;return l.emit(),u}}});