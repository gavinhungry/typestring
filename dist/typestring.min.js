/**
 * typestring - String-in/string-out TypeScript compiler front-end
 * https://github.com/gavinhungry/typestring
 */
((e,t,i,n=t.name.toLowerCase())=>"function"==typeof define&&define.amd?define(n,t.deps,i):"object"==typeof module?module.exports=i(...t.deps.map(require)):e[t.name]=i())(this,{name:"typestring",deps:["typescript"]},(e=window.TypeScript)=>(()=>{"use strict";return{compile:(t,i,n,r)=>{t=t||"";i=i||{};n=n||e.getDefaultCompilerOptions();let o=new RegExp(e.fullTripleSlashReferencePathRegEx.source,"gm");t=t.replace(o,(e,t,n,r)=>i[r]||e);let c=e.createCompilerHost(n);let p=c.getSourceFile;c.getSourceFile=function(i){return"_typestring.ts"===i?e.createSourceFile(i,t,n.target,"0"):p.apply(this,arguments)};let s="";c.writeFile=((e,t)=>s+=t);let u=e.createProgram(["_typestring.ts"],n,c);let a=u.getSyntacticDiagnostics();if(a.length)throw a;if(r&&(a=u.getSemanticDiagnostics()).length)throw a;u.emit();return s}}})());