/**
 * typestring - In-memory TypeScript compiler
 * https://github.com/gavinhungry/typestring
 */
({define:"function"==typeof define?define:function(e,t){module.exports=t.apply(null,e.map(require))}}).define(["typescript"],function(e){"use strict";var t="_typestring.ts";return{compile:function(r,i,n){i=i||{},n=n||e.getDefaultCompilerOptions();var o=new RegExp(e.fullTripleSlashReferencePathRegEx.source,"gm");r=r.replace(o,function(e,t,r,n){return i[n]||e});var c=e.createCompilerHost(n),u=c.getSourceFile;c.getSourceFile=function(i){return i===t?e.createSourceFile(i,r,n.target,"0"):u.apply(this,arguments)};var a="";c.writeFile=function(e,t){a+=t};var l=e.createProgram([t],n,c),p=l.getDiagnostics();if(p.length)throw p;var f=l.getTypeChecker(!0);if(p=f.getDiagnostics(),p.length)throw p;return f.emitFiles(),a}}});