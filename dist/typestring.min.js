/**
 * typestring - In-memory TypeScript compiler
 * https://github.com/gavinhungry/typestring
 */
({define:"function"==typeof define?define:function(e,t){module.exports=t.apply(null,e.map(require))}}).define(["typescript"],function(e){"use strict";var t="_typestring.ts";return{compile:function(r,i,n,o){r="string"==typeof r?r:"",i=i||{},n=n||e.getDefaultCompilerOptions();var c=new RegExp(e.fullTripleSlashReferencePathRegEx.source,"gm");r=r.replace(c,function(e,t,r,n){return i[n]||e});var a=e.createCompilerHost(n),u=a.getSourceFile;a.getSourceFile=function(i){return i===t?e.createSourceFile(i,r,n.target,"0"):u.apply(this,arguments)};var l="";a.writeFile=function(e,t){l+=t};var f=e.createProgram([t],n,a),p=f.getSyntacticDiagnostics();if(p.length)throw p;if(o&&(p=f.getSemanticDiagnostics(),p.length))throw p;return f.emit(),l}}});