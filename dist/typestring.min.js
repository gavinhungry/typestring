/**
 * typestring - In-memory TypeScript compiler
 * https://github.com/gavinhungry/typestring
 */
({define:"function"==typeof define?define:function(e,t){module.exports=t.apply(null,e.map(require))}}).define(["typescript-api"],function(e){"use strict";var t="_typestring.ts";return{compile:function(r,n){var i=new e.TypeScriptCompiler;n=n||{};var p=new RegExp(e.tripleSlashReferenceRegExp.source,"gm");r=r.replace(p,function(e,t,r,i){return n[i]||e});var o=e.ScriptSnapshot.fromString(r);i.addFile(t,o);for(var c=i.compile(),a="";c.moveNext();){var u=c.current().outputFiles[0];a+=u?u.text:""}var f=i.getSyntacticDiagnostics(t);if(f.length)throw f;return a}}});